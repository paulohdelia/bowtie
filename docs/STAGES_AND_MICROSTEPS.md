# Etapas e Micro-Etapas do BowTie

**Vers√£o:** 2.0
**Data:** 17 de fevereiro de 2026
**Status:** ‚úÖ Documenta√ß√£o Oficial

Este documento lista **todas as etapas (macro-etapas) e micro-etapas** do funil BowTie Ferraz Piai, servindo como refer√™ncia √∫nica para desenvolvimento e neg√≥cio.

---

## üìä Vis√£o Geral

O BowTie √© composto por **8 etapas principais** que representam a jornada do cliente, desde a prospec√ß√£o at√© a monetiza√ß√£o/expans√£o. Cada etapa cont√©m **micro-etapas** que detalham o processo.

| Estat√≠stica | Valor |
|-------------|-------|
| **Total de Etapas** | 8 |
| **Total de Micro-Etapas** | 41 |
| **Etapa Central (N√≥)** | Compromisso |
| **Lado Esquerdo (Pr√©-venda)** | 3 etapas (9 micro-etapas) |
| **Lado Direito (P√≥s-venda)** | 5 etapas (32 micro-etapas) |

---

## üéØ As 8 Etapas do BowTie

### 1. Pr√©-Venda
**ID:** `prevenda`
**Altura Visual:** `h-80` (alta)
**Posi√ß√£o:** In√≠cio do funil (esquerda)
**Objetivo:** Gerar e qualificar leads

#### Micro-Etapas (4):
1. **Prospect** - Identifica√ß√£o de potenciais clientes
2. **Tentativa de Contato** - Primeiro contato com o lead
3. **Conectado** - Lead respondeu e est√° engajado
4. **Reuni√£o Agendada** - Compromisso de reuni√£o confirmado

---

### 2. Aquisi√ß√£o
**ID:** `aquisicao`
**Altura Visual:** `h-64` (m√©dia-alta)
**Posi√ß√£o:** Segunda etapa (esquerda)
**Objetivo:** Converter leads em clientes

#### Micro-Etapas (4):
1. **Valida√ß√£o** - Validar fit do cliente com o produto
2. **Proposta Enviada** - Proposta comercial enviada
3. **Em Negocia√ß√£o** - Ajustes e negocia√ß√£o de termos
4. **Contrato na Rua** - Contrato enviado para assinatura

---

### 3. Compromisso ‚ö°
**ID:** `compromisso`
**Altura Visual:** `h-40` (pequena - n√≥ central)
**Posi√ß√£o:** Centro do BowTie (n√≥ da gravata)
**Objetivo:** Momento da venda fechada
**Caracter√≠stica Especial:** `isKnot: true`

#### Micro-Etapas (1):
1. **Venda Fechada** - Contrato assinado, cliente adquirido

> **Nota:** Esta √© a etapa central do BowTie, representando o momento crucial da convers√£o.

---

### 4. Diagn√≥sticos
**ID:** `diagnostico`
**Altura Visual:** `h-48` (m√©dia-baixa)
**Posi√ß√£o:** Primeira etapa p√≥s-venda (direita)
**Subtitle:** "(Saber)"
**Objetivo:** Entender o estado atual e necessidades do cliente

#### Micro-Etapas (6):
1. **Kickoff Interno** - Alinhamento interno da equipe
2. **Kickoff** - Reuni√£o de kickoff com o cliente
3. **Fase 2** - Segunda fase do diagn√≥stico
4. **Fase 3** - Terceira fase do diagn√≥stico
5. **Fase 4** - Quarta fase do diagn√≥stico
6. **Fase 5** - Quinta e √∫ltima fase do diagn√≥stico

---

### 5. Onboarding
**ID:** `onboarding`
**Altura Visual:** `h-56` (m√©dia)
**Posi√ß√£o:** Segunda etapa p√≥s-venda (direita)
**Subtitle:** "(Executar)"
**Objetivo:** Preparar o cliente para come√ßar a usar o servi√ßo

#### Micro-Etapas (7):
1. **Embarque (Growth Class)** - Treinamento inicial e nivelamento
2. **Kickoff** - In√≠cio oficial do projeto
3. **Setup Inicial** - Configura√ß√µes iniciais
4. **Planejamento MKT** - Planejamento de marketing
5. **Valida√ß√£o Interna** - Revis√£o interna do planejamento
6. **Apresenta√ß√£o Cliente** - Apresenta√ß√£o do plano ao cliente
7. **Encerramento** - Finaliza√ß√£o da fase de onboarding

---

### 6. Implementa√ß√µes
**ID:** `implementacoes`
**Altura Visual:** `h-64` (m√©dia-alta)
**Posi√ß√£o:** Terceira etapa p√≥s-venda (direita)
**Objetivo:** Executar as implementa√ß√µes planejadas

#### Micro-Etapas (9):
1. **Setup Imp.** - Configura√ß√£o inicial da implementa√ß√£o
2. **Revis√£o pr√©-Go Live** - Revis√£o final antes do lan√ßamento
3. **Go Live** - Lan√ßamento oficial
4. **1¬∫ Check-in (Interno)** - Primeira verifica√ß√£o interna
5. **1¬∫ Check-in (Revis√£o)** - Primeira verifica√ß√£o com revis√£o
6. **Execu√ß√£o** - Execu√ß√£o cont√≠nua das implementa√ß√µes
7. **Replanejamento** - Ajustes no planejamento
8. **Check-in Mensal** - Verifica√ß√£o mensal de progresso
9. **Encerramento** - Finaliza√ß√£o da fase de implementa√ß√µes

---

### 7. Ongoing
**ID:** `ongoing`
**Altura Visual:** `h-80` (alta)
**Posi√ß√£o:** Quarta etapa p√≥s-venda (direita)
**Objetivo:** Manuten√ß√£o e otimiza√ß√£o cont√≠nua (ciclo PDCA)

#### Micro-Etapas (6):
1. **DO (Execu√ß√£o)** - Executar as a√ß√µes planejadas
2. **CHECK (Qualidade)** - Verificar qualidade e resultados
3. **ACT (Otimiza√ß√µes)** - Implementar melhorias
4. **PLAN (Replanejamento)** - Planejar pr√≥ximo ciclo
5. **Check-in (Revis√£o)** - Revis√£o peri√≥dica
6. **Check-in (Cliente)** - Reuni√£o de acompanhamento com cliente

> **Nota:** Segue o ciclo PDCA (Plan-Do-Check-Act) para melhoria cont√≠nua.

---

### 8. Monetiza√ß√£o
**ID:** `monetizacao`
**Altura Visual:** `h-96` (muito alta)
**Posi√ß√£o:** Fim do funil (direita)
**Objetivo:** Expans√£o e upsell

#### Micro-Etapas (4):
1. **Valida√ß√£o** - Validar oportunidade de expans√£o
2. **Proposta Enviada** - Proposta de expans√£o/upsell enviada
3. **Em Negocia√ß√£o** - Negocia√ß√£o de novos termos
4. **Contrato na Rua** - Novo contrato enviado para assinatura

> **Nota:** Replica o processo de Aquisi√ß√£o para expans√£o de receita.

---

## üìê Arquitetura Visual do BowTie

```
[Pr√©-Venda] ‚Üí [Aquisi√ß√£o] ‚Üí [Compromisso] ‚Üí [Diagn√≥sticos] ‚Üí [Onboarding] ‚Üí [Implementa√ß√µes] ‚Üí [Ongoing] ‚Üí [Monetiza√ß√£o]
    ‚Üë              ‚Üë              ‚ö°               ‚Üì                ‚Üì                 ‚Üì              ‚Üì           ‚Üì
   h-80          h-64           h-40            h-48             h-56              h-64           h-80        h-96
(4 micro)     (4 micro)      (1 micro)       (6 micro)        (7 micro)         (9 micro)      (6 micro)   (4 micro)
```

### Progress√£o de Alturas:
- **Entrada (Pr√©-Venda):** Alta (80) - captura ampla
- **Qualifica√ß√£o (Aquisi√ß√£o):** M√©dia-Alta (64) - funil se estreita
- **Convers√£o (Compromisso):** Baixa (40) - n√≥ central
- **Expans√£o P√≥s-Venda:** Crescente (48 ‚Üí 56 ‚Üí 64 ‚Üí 80 ‚Üí 96)
- **Sa√≠da (Monetiza√ß√£o):** Muito Alta (96) - expans√£o m√°xima

---

## üîß Refer√™ncias T√©cnicas

### C√≥digo Fonte
**Arquivo:** `/src/config/api.js`

A configura√ß√£o oficial est√° na constante `STAGE_CONFIG`:

```javascript
export const STAGE_CONFIG = {
  'Pr√©-Venda': {
    id: 'prevenda',
    height: 'h-80',
    microSteps: ['Prospect', 'Tentativa de Contato', ...]
  },
  // ... outras etapas
}
```

### Normaliza√ß√£o de Nomes
**Arquivo:** `/src/utils/microStepMapping.js`

Sistema de normaliza√ß√£o que aceita varia√ß√µes de grafia (acentua√ß√£o, case, formato pipe) e converte para os nomes padronizados.

**Documenta√ß√£o:** `docs/archive/MAPEAMENTO_MICRO_ETAPAS.md`

---

## üìã Tabela de Refer√™ncia R√°pida

| Etapa | ID | Micro-Etapas | Subtitle | Altura |
|-------|----|--------------| ---------|--------|
| Pr√©-Venda | prevenda | 4 | - | h-80 |
| Aquisi√ß√£o | aquisicao | 4 | - | h-64 |
| Compromisso | compromisso | 1 | - | h-40 |
| Diagn√≥sticos | diagnostico | 6 | (Saber) | h-48 |
| Onboarding | onboarding | 7 | (Executar) | h-56 |
| Implementa√ß√µes | implementacoes | 9 | - | h-64 |
| Ongoing | ongoing | 6 | - | h-80 |
| Monetiza√ß√£o | monetizacao | 4 | - | h-96 |

---

## üé® Comportamento Visual

### Heatmap
Cada etapa recebe uma intensidade de cor baseada no **score de impacto acumulado** das a√ß√µes:
- **Alto impacto** = Vermelho mais intenso
- **Baixo impacto** = Vermelho mais suave
- **Sem a√ß√µes** = Cinza escuro

### Bordas
- **Etapa inativa:** Borda vermelha com opacidade vari√°vel (0.4 a 1.0)
- **Etapa ativa/expandida:** Borda vermelha s√≥lida (`#E30613`)
- **Hover:** Leve aumento de escala (1.02x)

### Indicador de Trava (Bottleneck)
A etapa com **maior score de impacto** recebe um badge "TRAVA" no topo:
- Badge vermelho pulsante
- √çcone de cadeado
- Sombra vermelha brilhante

**Tie-breaker:** Em caso de empate, ganha a etapa **mais √† direita** (mais pr√≥xima da monetiza√ß√£o).

---

## üîÑ Estados das Etapas

### Estado Fechado (Padr√£o)
- Mostra t√≠tulo da macro-etapa
- Indicadores de impacto/esfor√ßo
- Contador total de a√ß√µes
- Visualiza√ß√£o compacta

### Estado Expandido (Ativo)
- T√≠tulo √† esquerda
- Micro-etapas exibidas horizontalmente √† direita
- Cards individuais para cada micro-etapa
- Contador de a√ß√µes por micro-etapa

---

## üìù Notas para Desenvolvimento

### Adicionando Nova Etapa
1. Editar `src/config/api.js` ‚Üí `STAGE_CONFIG`
2. Adicionar mapeamento em `src/utils/microStepMapping.js`
3. Atualizar este documento

### Adicionando Nova Micro-Etapa
1. Editar array `microSteps` da etapa em `src/config/api.js`
2. Adicionar varia√ß√µes em `src/utils/microStepMapping.js`
3. Atualizar este documento
4. Testar normaliza√ß√£o de nomes

### Modificando Altura Visual
As alturas usam classes Tailwind:
- `h-40` = 10rem (160px)
- `h-48` = 12rem (192px)
- `h-56` = 14rem (224px)
- `h-64` = 16rem (256px)
- `h-80` = 20rem (320px)
- `h-96` = 24rem (384px)

---

## üìö Documentos Relacionados

- **[CLAUDE.md](../CLAUDE.md)** - Guia geral de desenvolvimento
- **[ARCHITECTURE.md](./ARCHITECTURE.md)** - Arquitetura do sistema
- **[MAPEAMENTO_MICRO_ETAPAS.md](./archive/MAPEAMENTO_MICRO_ETAPAS.md)** - Sistema de normaliza√ß√£o
- **[API_INTEGRATION.md](./API_INTEGRATION.md)** - Integra√ß√£o com backend

---

## ‚úÖ Checklist de Valida√ß√£o

Ao modificar etapas ou micro-etapas, validar:

- [ ] `STAGE_CONFIG` atualizado em `src/config/api.js`
- [ ] Mapeamentos atualizados em `src/utils/microStepMapping.js`
- [ ] Este documento atualizado
- [ ] Testes manuais de normaliza√ß√£o
- [ ] README.md atualizado (se aplic√°vel)

---

**√öltima atualiza√ß√£o:** 17 de fevereiro de 2026
**Mantido por:** Equipe de Desenvolvimento Ferraz Piai
**Revis√£o:** A cada mudan√ßa em etapas/micro-etapas
